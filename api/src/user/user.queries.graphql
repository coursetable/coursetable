# Query to map CRNs to their sameCourseId for a specific season
query CrnToSameCourseId($crns: [Int!]!, $season: String!) {
  listings(
    where: { crn: { _in: $crns }, course: { season_code: { _eq: $season } } }
  ) {
    crn
    course {
      sameCourseId: same_course_id
    }
  }
}

# Query to fetch all CRNs for courses with specified sameCourseIds
query AllCrnsForSameCourseIds($sameCourseIds: [Int!]!, $season: String!) {
  courses(
    where: {
      same_course_id: { _in: $sameCourseIds }
      season_code: { _eq: $season }
    }
  ) {
    sameCourseId: same_course_id
    listings {
      crn
    }
  }
}
